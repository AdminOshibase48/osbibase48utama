<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Oshibase48</title>
  <link rel="stylesheet" href="assets/css/style.css" />
</head>
<body>

  <!-- Header -->
  <header class="site-header">
    <div class="container header-content">
      <div class="logo-title">
        <img src="assets/img/logo.png" alt="Logo" class="logo" />
        <div class="title-text">
          <a href="index.html" class="site-title">Oshibase48</a>
          <p class="slogan">Bersama Menyebarkan Semangat Idol</p>
        </div>
      </div>
      <nav class="main-nav">
        <ul>
          <li><a href="index.html">Beranda</a></li>
          <li><a href="galeri.html">Galeri</a></li>
          <li><a href="berita.html">Berita</a></li>
          <li><a href="#">Shop</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <!-- Hero -->
  <section class="hero">
    <div class="container hero-content">
      <img src="assets/img/perkenalan.png" alt="Tentang Kami" class="hero-image"/>
      <div class="hero-text">
        <h1>Apa itu Oshibase48?</h1>
        <p>Oshibase48 adalah komunitas penggemar idol group yang berdedikasi menjadi rumah bagi para fans untuk berbagi informasi, dukungan, dan semangat positif. Kami hadir untuk mempererat hubungan antar penggemar dengan berbagai kegiatan seru dan informatif.</p>
      </div>
    </div>
  </section>

  <!-- Galeri -->
  <section class="gallery-preview">
    <div class="container">
      <h2>Galeri Kegiatan</h2>
      <div class="gallery-slider">
        <img src="assets/img/bandung.jpg" alt="Bandung" />
        <img src="assets/img/cimahi.jpg" alt="Cimahi" />
        <img src="assets/img/event.jpg" alt="Event" />
        <img src="assets/img/jakarta.jpg" alt="Jakarta" />
        <img src="assets/img/semarang.jpg" alt="Semarang" />
      </div>
      <a href="galeri.html" class="btn-primary">Lihat Selengkapnya</a>
    </div>
  </section>

  <!-- Berita -->
  <section class="news-preview">
    <div class="container">
      <h2>Berita Terbaru</h2>
      <div class="news-list" id="news-list">
        <!-- Data berita dari Supabase akan muncul di sini -->
        <p>Memuat berita...</p>
      </div>
      <a href="berita.html" class="btn-primary">Lihat Semua Berita</a>
    </div>
  </section>

  <!-- Footer -->
  <footer class="site-footer">
    <div class="container footer-content">
      <div class="footer-left">
        <img src="assets/img/logo.png" alt="Logo" class="logo-footer"/>
        <div>
          <h4>Oshibase48</h4>
          <p class="slogan">Bersama Menyebarkan Semangat Idol</p>
        </div>
      </div>
      <div class="footer-right">
        <a href="#" target="_blank">Instagram</a>
        <a href="#" target="_blank">Twitter</a>
        <a href="#" target="_blank">TikTok</a>
        <a href="#" target="_blank">YouTube</a>
      </div>
    </div>
  </footer>

  <!-- Supabase JS -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
  <script>
    // GANTI dengan info dari Supabase kamu
    const SUPABASE_URL = "https://nuvfnnxuxtthbryesliu.supabase.co";
    const SUPABASE_ANON_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im51dmZubnh1eHR0aGJyeWVzbGl1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE1Mzk1NTYsImV4cCI6MjA2NzExNTU1Nn0.Om73FRiKvdlWpZS-hIXCIKznjkQ3A3X3k1n2IzGzRes";

    const supabase = supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

    async function loadBerita() {
      const { data, error } = await supabase
        .from('berita')
        .select('*')
        .order('created_at', { ascending: false })
        .limit(3);

      const newsList = document.getElementById('news-list');
      newsList.innerHTML = '';

      if (error) {
        newsList.innerHTML = "<p>Gagal memuat berita.</p>";
        console.error("Supabase error:", error);
        return;
      }

      if (data.length === 0) {
        newsList.innerHTML = "<p>Belum ada berita terbaru.</p>";
        return;
      }

      data.forEach(berita => {
        const article = document.createElement('article');
        article.innerHTML = `
          <h3>${berita.judul}</h3>
          <p>${berita.isi.substring(0, 120)}...</p>
        `;
        newsList.appendChild(article);
      });
    }

    document.addEventListener("DOMContentLoaded", loadBerita);
  </script>

</body>
</html>
